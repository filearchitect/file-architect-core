<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Architect Demo</title>
    <style>
      body {
        font-family: system-ui, -apple-system, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        line-height: 1.6;
      }
      button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.2s;
      }
      button:hover {
        background: #2563eb;
      }
      pre {
        background: #f1f5f9;
        padding: 1rem;
        border-radius: 0.375rem;
        overflow: auto;
      }
      .output {
        margin-top: 1rem;
        padding: 1rem;
        border: 1px solid #e2e8f0;
        border-radius: 0.375rem;
      }
      .success {
        color: #059669;
      }
      .error {
        color: #dc2626;
      }
    </style>
  </head>
  <body>
    <h1>File Architect Demo</h1>
    <p>Click the button below to create a sample project structure:</p>
    <button id="createButton">Create Project Structure</button>
    <div id="output" class="output"></div>

    <h2>Project Structure to Create:</h2>
    <pre>
test-project/
  ├── src/
  │   └── index.js
  └── README.md</pre
    >

    <script src="/browser-bundle.js"></script>
    <script>
      const createProject = async function () {
        const output = document.getElementById("output");
        output.innerHTML = "Creating project structure...";

        try {
          const structure = `
                    test-project
                        src
                            README.md
                            [/Users/sebastienlavoie/Documents/FA_setup/test123.json] > test123_renamed.json
                `;

          await FileArchitect.createStructureFromString(structure, "./output", {
            verbose: true,
            fs: new FileArchitect.BrowserFileSystem(),
          });

          output.innerHTML = `
                    <span class="success">✨ Project created successfully!</span><br>
                    Check the <code>output/test-project</code> directory.
                `;
        } catch (error) {
          output.innerHTML = `
                    <span class="error">❌ Error creating project:</span><br>
                    ${error.message}
                `;
          console.error("Error:", error);
        }
      };

      // Add click event listener
      document
        .getElementById("createButton")
        .addEventListener("click", createProject);
    </script>
  </body>
</html>
